@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Autocomplete</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="https://cdn3.devexpress.com/jslib/22.2.4/css/dx.light.css">
    <script type="text/javascript" src="https://cdn3.devexpress.com/jslib/22.2.4/js/dx.all.js"></script>
    <script type="text/javascript">
        var employeesTasks = [
            //{
            //    ID: 1,
            //    Assignee: "Mr. John Heart",
            //    Subject: "Choose between PPO and HMO Health Plan",
            //    disabled: true
            //}, {
            //    ID: 2,
            //    Assignee: "Mr. John Heart",
            //    Subject: "Google AdWords Strategy"
            //}, {
            //    ID: 3,
            //    Assignee: "Mr. John Heart",
            //    Subject: "New Brochures"
            //}, {
            //    ID: 4,
            //    Assignee: "Mr. John Heart",
            //    Subject: "Update NDA Agreement"
            //}, {
            //    ID: 5,
            //    Assignee: "Mr. John Heart",
            //    Subject: "Review Product Recall Report by Engineering Team"
            //}, {
            //    ID: 6,
            //    Assignee: "Mrs. Olivia Peyton",
            //    Subject: "Update Personnel Files"
            //}, {
            //    ID: 7,
            //    Assignee: "Mrs. Olivia Peyton",
            //    Subject: "Review Health Insurance Options Under the Affordable Care Act"
            //}, {
            //    ID: 8,
            //    Assignee: "Mrs. Olivia Peyton",
            //    Subject: "Non-Compete Agreements"
            //}, {
            //    ID: 9,
            //    Assignee: "Mrs. Olivia Peyton",
            //    Subject: "Give Final Approval for Refunds"
            //}, {
            //    ID: 10,
            //    Assignee: "Mr. Robert Reagan",
            //    Subject: "Deliver R&D Plans for 2013"
            //}, {
            //    ID: 11,
            //    Assignee: "Mr. Robert Reagan",
            //    Subject: "Decide on Mobile Devices to Use in the Field"
            //}, {
            //    ID: 12,
            //    Assignee: "Mr. Robert Reagan",
            //    Subject: "Try New Touch-Enabled WinForms Apps"
            //}, {
            //    ID: 13,
            //    Assignee: "Mr. Robert Reagan",
            //    Subject: "Approval on Converting to New HDMI Specification"
            //}, {
            //    ID: 14,
            //    Assignee: "Ms. Greta Sims",
            //    Subject: "Approve Hiring of John Jeffers"
            //}, {
            //    ID: 15,
            //    Assignee: "Ms. Greta Sims",
            //    Subject: "Update Employee Files with New NDA"
            //}, {
            //    ID: 16,
            //    Assignee: "Ms. Greta Sims",
            //    Subject: "Provide New Health Insurance Docs"
            //}
        ];

        $(function () {
            $("#autocomplete").dxAutocomplete({
                valueExpr: "Assignee",
                label: "Search for a task",
                labelMode: "floating",
                showClearButton: true,
                onValueChanged: function (e) {
                    var namess = e.value;
                    console.log(e.value);
                    //console.log(e.previousValue);
                    getEmp(namess);

                },
            });
        });

        function getEmp(namess) {
             $.ajax({
                url: '/DevExpress/DevExpressA/SearchEmployeName',
                    type: "POST",
                    dataType: "json",
                    //contentType: 'application/json',
                    data: { "userId": namess },
                    success: function (data) {
                        console.log(data);

                    employeesTasks = [
                        {
                            ID: 1,
                            Assignee: "subjeect1",
                            Subject: "Choose between PPO and HMO Health Plan",
                            disabled: true
                        }, {
                            ID: 2,
                            Assignee: "subject4",
                            Subject: "Google AdWords Strategy"
                        }, {
                            ID: 3,
                            Assignee: "subject7",
                            Subject: "New Brochures"
                        }
                    ];


                    $("#autocomplete").dxAutocomplete({
                        dataSource: employeesTasks,
                        valueExpr: "Assignee",
                    });



                    },
                    error: function (error) {
                        console.log('Error:' + error);
                    }

                });
            
        }



                //$(document).on('keyup', '#autocomplete', function (e) {
                //    debugger;
                //    var inputData = $(this).val();
                //    alert(inputData);

                //    //$.ajax({
                //    //    url: '/Employee/DeleteEmployee',
                //    //    type: "POST",
                //    //    dataType: "json",
                //    //    contentType: 'application/json',
                //    //    data: JSON.stringify({ id: ide }),
                //    //    success: function (data) {
                //    //        if (data == 1) {
                //    //            alert("Redoard deleted");
                //    //            loadEmployee();
                //    //        }
                //    //    },
                //    //    error: function (error) {
                //    //        console.log('Error:' + error);
                //    //    }

                //    //});
                //});

    </script>

</head>
<body>
    <div id="autocomplete"></div>
</body>
</html>
